# Holdings Router Configuration

service:
  name: "holdings-router"
  version: "1.0.0"
  port: 8305
  host: "0.0.0.0"

database:
  url: "${DATABASE_URL}"
  pool_size: 10
  max_overflow: 20
  pool_timeout: 30

routing:
  # Relevance scoring thresholds
  high_relevance_threshold: 0.8
  medium_relevance_threshold: 0.5
  low_relevance_threshold: 0.2
  
  # Position size impact on scoring
  position_weight_factor: 0.3
  max_position_multiplier: 2.0
  
  # Sector correlation settings
  sector_correlation_weight: 0.2
  enable_sector_analysis: true

portfolio:
  # Portfolio data refresh settings
  refresh_interval_minutes: 15
  cache_expiry_hours: 24
  
  # Position size categories
  large_position_threshold: 0.1  # 10% of portfolio
  medium_position_threshold: 0.05  # 5% of portfolio
  
  # Risk assessment
  concentration_risk_threshold: 0.25  # 25% in single position

alerts:
  # Alert routing configuration
  critical_threshold: 0.9
  high_threshold: 0.7
  medium_threshold: 0.4
  
  # Rate limiting
  max_alerts_per_hour: 50
  max_alerts_per_position_per_day: 10

external_services:
  event_processor_url: "http://event-processor:8303"
  sentiment_analyzer_url: "http://sentiment-analyzer:8304"
  alert_engine_url: "http://alert-engine:8307"
  price_fetcher_url: "http://price-fetcher:8306"

logging:
  level: "INFO"
  format: "json"
  
monitoring:
  enable_metrics: true
  metrics_port: 8305
