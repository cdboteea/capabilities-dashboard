# ğŸš¢ **PORT ALLOCATION MAP**
*Updated: June 22, 2025*

## **ğŸ“Š Current Port Usage Analysis**

### **ğŸ—ï¸ Core Infrastructure (docker-compose.master.yml)**
- **PostgreSQL**: `5432:5432` âœ…
- **Chroma Vector DB**: `8000:8000` âœ…  
- **MinIO Object Storage**: `9000:9000`, `9001:9001` âœ…
- **NATS Message Bus**: `4222:4222`, `8222:8222` âœ…

### **ğŸ—ƒï¸ Idea Database (Port Range: 3000-3099)**
- **Web Interface**: `3002:3002` âœ…
- **Email Processor**: `3003:8000` (Internal only) âœ…
- **AI Processor**: `3004:8000` (Missing - To implement)
- **Content Extractor**: `3005:8000` (Missing - To implement)
- **Database Service**: `3006:8000` (Missing - To implement)

### **ğŸ“ˆ Real-Time Intel (Port Range: 8300-8399)**
- **News Crawler**: `8300:8300` âœ…
- **Macro Watcher**: `8301:8301` âŒ (Missing implementation)
- **Source Manager**: `8302:8302` âœ…
- **Event Processor**: `8303:8303` âœ…
- **Sentiment Analyzer**: `8304:8304` âœ…
- **Holdings Router**: `8305:8305` âœ…
- **Price Fetcher**: `8306:8306` âœ…
- **Alert Engine**: `8307:8307`, `9307:9307` (metrics) âœ…
- **Historical Analyzer**: `8308:8308` âŒ (Missing implementation)

### **ğŸ“„ Twin Report KB (Port Range: 8100-8199)**
- **Topic Manager**: `8100:8000` âœ…
- **Document Parser**: `8101:8000` âœ…
- **Web Interface**: `8102:3000` âœ…
- **Diff Worker**: `8103:8000` âœ…
- **Quality Controller**: `8104:8000` (Internal only) âœ…
- **Author Local Reasoning**: `8105:8000` âŒ (Missing implementation)

## **ğŸ”´ Port Conflicts Detected: NONE**
All current port allocations are properly segregated by service ranges.

## **ğŸ¯ Recommended Port Strategy**

### **Port Range Allocation:**
- **Core Infrastructure**: `4000-4999`, `5000-5999`, `8000-8099`, `9000-9099`
- **Idea Database**: `3000-3099`
- **Twin Report KB**: `8100-8199` 
- **Real-Time Intel**: `8300-8399`
- **Future Services**: `8200-8299`, `8400-8499`

### **Internal Service Ports:**
- Most services use internal port `8000` mapped to unique external ports
- Frontend services use their native ports (3000, 3002, etc.)

## **âœ… Port Allocation Status: CLEAN**
No conflicts detected. Ready for implementation of missing services. 